<!DOCTYPE html>
<html>
<head>
    <title>CRUD</title>
</head>
<body>
    <h1>CRUD</h1>
    <form method="POST" action="index.php">
        <input type="hidden" name="id" value="">
        <input type="text" name="name" placeholder="Name" required>
        <input type="email" name="email" placeholder="Email" required>
        <input type="text" name="phone" placeholder="Phone" required>
        <button type="submit" name="action" value="create">Add Contact</button>
    </form>
    <table border="1">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <?php
            include 'index.php';
            $contacts = fetchContacts();
            foreach ($contacts as $contact) {
                echo '<tr>';
                echo '<form method="POST" action="crud.php">';
                echo '<td><input type="text" name="name" value="' . htmlspecialchars($contact['name']) . '"></td>';
                echo '<td><input type="email" name="email" value="' . htmlspecialchars($contact['email']) . '"></td>';
                echo '<td><input type="text" name="phone" value="' . htmlspecialchars($contact['phone']) . '"></td>';
                echo '<td>';
                echo '<input type="hidden" name="id" value="' . $contact['id'] . '">';
                echo '<button type="submit" name="action" value="update">Update</button>';
                echo '<button type="submit" name="action" value="delete">Delete</button>';
                echo '</td>';
                echo '</form>';
                echo '</tr>';
            }
            ?>
        </tbody>
    </table>
</body>
</html>
